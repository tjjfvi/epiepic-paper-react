@import "./Game.styl"

.Card
  flex 0 1 auto

  position relative

  display flex
  justify-content center
  align-items center

  max-width cardWidth
  max-height cardHeight

  cursor pointer

  &.expended
    max-width cardHeight

    img._
      display block
      opacity 0
    
    img:not(._)
      position absolute
      transform rotate(-90deg)

      width auto
      height 314px
    
    .badges
      transform rotate(-90deg)

      width (225/314*100%)

      .NumberBadge
        transform translate(0, -50%) rotate(90deg)

  &.flipped
    img
      transform rotate(180deg)
    .badges
      transform rotate(180deg)

      .NumberBadge
        transform translate(0%, -50%) rotate(180deg)

  &.marked
    animation 1.4s pulse infinite

  img
    max-width 100%
    max-height 100%
    width 225px
  
  img._
    display none

  .badges
    position absolute
    display flex
    justify-content center
    
    width 100%
    height 100%

    .NumberBadge
      position absolute
      pointer-events none
      opacity 0

      color white
      border-color @color

      transform translate(0, -50%)

      &.show
      &:focus-within
        pointer-events auto
        opacity 1

    .damage
    .offAdjust
    .defAdjust
      top 22%
      color $white
      border-color @color

    .off
    .offAdjust
      left 4%
      top 70%
      background-color $offense

    .def
    .defAdjust
      right 4%
      top 70%
      background-color $defense

    .offAdjust
      color $offense
      border-color @color
      background-color white
    
    .defAdjust
      color $defense
      border-color @color
      background-color white

    .counters
      top 50%
      background-color $counters
    
    .deploying
      position absolute
      top 31%

      width 20px
      height 20px

      background $lightgrey
      border-color $black
      border-width 1px

      opacity 0

      transition opacity .2s

      &.true
        opacity 1

    .revealed
      position absolute
      bottom 12.5px
      
      width 20px
      height 20px

      border-width 3px
      border-color $black
      background $white

      opacity 0

      transition opacity .2s

      &.true
        opacity 1


.play .Card.rightClicked .NumberBadge
  pointer-events auto
  opacity 1

  &.off
  &.def
    opacity 0
